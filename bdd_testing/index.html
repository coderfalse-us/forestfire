
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../testing_libraries/">
      
      
        <link rel="next" href="../mkdocs/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.13">
    
    
      
        <title>BDD Testing - Forestfire</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="pink">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#behavior-driven-development-bdd-testing-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Forestfire" class="md-header__button md-logo" aria-label="Forestfire" data-md-component="logo">
      
  <img src="../assets/forestf.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Forestfire
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              BDD Testing
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.04 7 9.54s-2.94 8.27-7 9.54c.95.3 1.95.46 3 .46a10 10 0 0 0 10-10A10 10 0 0 0 9 2"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/coderfalse-us/forestfire.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Forestfire" class="md-nav__button md-logo" aria-label="Forestfire" data-md-component="logo">
      
  <img src="../assets/forestf.png" alt="logo">

    </a>
    Forestfire
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/coderfalse-us/forestfire.git" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../home/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../package_managers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Package Manager
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../python_formatters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Formatter
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../python_logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logger
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../orm_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ORM
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../testing_libraries/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing Libraries
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    BDD Testing
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    BDD Testing
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction-to-bdd" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction to BDD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bdd-implementation-in-forestfire" class="md-nav__link">
    <span class="md-ellipsis">
      BDD Implementation in ForestFire
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-bdd-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Project BDD Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project BDD Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-components" class="md-nav__link">
    <span class="md-ellipsis">
      Key Components
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-feature-files" class="md-nav__link">
    <span class="md-ellipsis">
      Writing Feature Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing Feature Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gherkin-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Gherkin Syntax
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementing-step-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Implementing Step Definitions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementing Step Definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#context-object" class="md-nav__link">
    <span class="md-ellipsis">
      Context Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-bdd-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Running BDD Tests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-the-test-suite" class="md-nav__link">
    <span class="md-ellipsis">
      Extending the Test Suite
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mkdocs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mkdocs
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-of-contents" class="md-nav__link">
    <span class="md-ellipsis">
      Table of Contents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction-to-bdd" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction to BDD
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bdd-implementation-in-forestfire" class="md-nav__link">
    <span class="md-ellipsis">
      BDD Implementation in ForestFire
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-bdd-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Project BDD Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project BDD Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-components" class="md-nav__link">
    <span class="md-ellipsis">
      Key Components
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-feature-files" class="md-nav__link">
    <span class="md-ellipsis">
      Writing Feature Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writing Feature Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gherkin-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Gherkin Syntax
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementing-step-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Implementing Step Definitions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Implementing Step Definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#context-object" class="md-nav__link">
    <span class="md-ellipsis">
      Context Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-bdd-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Running BDD Tests
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extending-the-test-suite" class="md-nav__link">
    <span class="md-ellipsis">
      Extending the Test Suite
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="behavior-driven-development-bdd-testing-guide">Behavior-Driven Development (BDD) Testing Guide</h1>
<h2 id="overview">Overview</h2>
<p>This document provides a comprehensive guide to the Behavior-Driven Development (BDD) testing approach implemented in the ForestFire warehouse order picking optimization project. BDD is a collaborative approach that encourages conversation and concrete examples to formulate a shared understanding of how the software should behave.</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#introduction-to-bdd">Introduction to BDD</a></li>
<li><a href="#bdd-implementation-in-forestfire">BDD Implementation in ForestFire</a></li>
<li><a href="#project-bdd-structure">Project BDD Structure</a></li>
<li><a href="#writing-feature-files">Writing Feature Files</a></li>
<li><a href="#implementing-step-definitions">Implementing Step Definitions</a></li>
<li><a href="#environment-setup">Environment Setup</a></li>
<li><a href="#running-bdd-tests">Running BDD Tests</a></li>
<li><a href="#extending-the-test-suite">Extending the Test Suite</a></li>
</ol>
<h2 id="introduction-to-bdd">Introduction to BDD</h2>
<p>Behavior-Driven Development (BDD) is an agile software development process that encourages collaboration between developers, QA, and non-technical stakeholders. BDD focuses on defining the behavior of a system from the end user's perspective using concrete examples.</p>
<p>Key benefits of BDD include:</p>
<ul>
<li><strong>Shared understanding</strong>: Creates a common language between technical and non-technical team members</li>
<li><strong>Living documentation</strong>: Features serve as both specifications and test documentation</li>
<li><strong>Focus on business value</strong>: Tests are written from the user's perspective, ensuring focus on valuable features</li>
<li><strong>Reduced rework</strong>: Early validation of requirements reduces misunderstandings and rework</li>
</ul>
<h2 id="bdd-implementation-in-forestfire">BDD Implementation in ForestFire</h2>
<p>In the ForestFire project, we use BDD for end-to-end integration testing that covers the entire workflow of warehouse order picking optimization, including:</p>
<ol>
<li>Loading warehouse data from the database</li>
<li>Running optimization algorithms (ACO and Genetic Algorithm)</li>
<li>Visualizing optimized routes</li>
<li>Updating pick sequences via API</li>
</ol>
<p>We use the <a href="https://behave.readthedocs.io/">Behave</a> framework, which is a Python implementation of the BDD approach. Behave uses feature files written in Gherkin syntax to describe the expected behavior and Python step definitions to implement the test logic.</p>
<h2 id="project-bdd-structure">Project BDD Structure</h2>
<p>The BDD tests in ForestFire are organized as follows:</p>
<pre><code>features/
├── environment.py              # Test environment setup and teardown
├── warehouse_optimization.feature  # Feature file with scenarios
└── steps/
    ├── api_mocks.py            # Mock implementations for API testing
    └── warehouse_optimization_steps.py  # Step definitions
</code></pre>
<h3 id="key-components">Key Components</h3>
<ul>
<li><strong>Feature files</strong>: Written in Gherkin syntax, describe the behavior of the system</li>
<li><strong>Step definitions</strong>: Python code that implements the steps in the feature files</li>
<li><strong>Environment setup</strong>: Configuration for test environment, including mocks and fixtures</li>
</ul>
<h2 id="writing-feature-files">Writing Feature Files</h2>
<p>Feature files use Gherkin syntax to describe the behavior of the system. A feature file consists of:</p>
<ul>
<li><strong>Feature</strong>: A description of the feature being tested</li>
<li><strong>Background</strong>: Common setup steps for all scenarios</li>
<li><strong>Scenarios</strong>: Specific test cases with Given-When-Then steps</li>
</ul>
<p>Example from our project:</p>
<pre><code class="language-gherkin">Feature: Warehouse Order Picking Optimization End-to-End
  As a warehouse manager
  I want to optimize the order picking process and update the WMS
  So that the pickers can complete tasks efficiently

  Background:
    Given the warehouse configuration is loaded
      | num_pickers | picker_capacities |
      | 10          | 10                |

  Scenario: Complete optimization workflow with API integration
    Given the warehouse data is loaded from the database
    When the ACO optimization process is executed
    Then the ACO solutions should be valid
    When the genetic algorithm optimization is executed with the ACO solutions
    Then the final solution should be valid and optimized
    When the optimized routes are visualized
    And the pick sequences are updated via API
    Then the API should respond with a success status
</code></pre>
<h3 id="gherkin-syntax">Gherkin Syntax</h3>
<ul>
<li><strong>Feature</strong>: Describes the feature being tested</li>
<li><strong>Background</strong>: Steps that run before each scenario</li>
<li><strong>Scenario</strong>: A specific test case</li>
<li><strong>Given</strong>: Sets up the initial context</li>
<li><strong>When</strong>: Describes an action</li>
<li><strong>Then</strong>: Describes the expected outcome</li>
<li><strong>And/But</strong>: Additional steps of the same type</li>
</ul>
<h2 id="implementing-step-definitions">Implementing Step Definitions</h2>
<p>Step definitions connect the Gherkin steps to Python code. In our project, step definitions are implemented in <code>features/steps/warehouse_optimization_steps.py</code>.</p>
<p>Example step definition:</p>
<pre><code class="language-python">@given(&quot;the warehouse data is loaded from the database&quot;)
def step_given_warehouse_data(context):
    &quot;&quot;&quot;Load warehouse data from the database.&quot;&quot;&quot;
    context.picklist_repo = PicklistRepository()
    (
        context.picktasks,
        context.orders_assign,
        context.stage_result,
        context.picklistids,
    ) = context.picklist_repo.get_optimized_data()
    context.route_optimizer = RouteOptimizer()
    context.genetic_op = GeneticOperator(context.route_optimizer)
    context.aco = AntColonyOptimizer(context.route_optimizer)
    context.path_visualizer = PathVisualizer()
    context.picksequence_service = BatchPickSequenceService()
</code></pre>
<h3 id="context-object">Context Object</h3>
<p>The <code>context</code> object is passed between steps and can be used to store data that needs to be shared between steps. In our implementation:</p>
<ul>
<li>We store repositories, services, and optimization results in the context</li>
<li>We use the context to pass data between steps in a scenario</li>
<li>The context is reset between scenarios</li>
</ul>
<h2 id="environment-setup">Environment Setup</h2>
<p>The <code>environment.py</code> file configures the test environment, including:</p>
<ul>
<li>Setting up and tearing down the test environment</li>
<li>Configuring mocks for external dependencies</li>
<li>Setting up asynchronous testing support</li>
</ul>
<p>Key functions in our <code>environment.py</code>:</p>
<ul>
<li><code>before_all</code>: Setup before all tests run</li>
<li><code>after_all</code>: Cleanup after all tests run</li>
<li><code>before_scenario</code>: Setup before each scenario</li>
<li><code>after_scenario</code>: Cleanup after each scenario</li>
</ul>
<p>Example from our project:</p>
<pre><code class="language-python">def before_all(context):
    &quot;&quot;&quot;Set up the environment before all tests.&quot;&quot;&quot;
    # Set up async event loop for async steps
    loop = asyncio.new_event_loop()
    asyncio.set_event_loop(loop)
    context.loop = loop

    # Store original methods for restoration
    context.original_methods = {
        &quot;update_pick_sequences&quot;: BatchPickSequenceService.update_pick_sequences,
        &quot;plot_routes&quot;: PathVisualizer.plot_routes,
    }

    # Set up test environment variables
    os.environ[&quot;TEST_MODE&quot;] = &quot;True&quot;
</code></pre>
<h2 id="running-bdd-tests">Running BDD Tests</h2>
<p>To run the BDD tests in the ForestFire project:</p>
<pre><code class="language-bash"># Run all BDD tests
behave

# Run a specific feature file
behave features/warehouse_optimization.feature

# Run a specific scenario (by name)
behave -n &quot;Complete optimization workflow with API integration&quot;

# Run with more verbose output
behave -v

# Generate JUnit report
behave --junit
</code></pre>
<h2 id="extending-the-test-suite">Extending the Test Suite</h2>
<p>To add new BDD tests to the ForestFire project:</p>
<ol>
<li><strong>Identify a new feature or scenario</strong> to test</li>
<li><strong>Add a new scenario</strong> to an existing feature file or create a new feature file</li>
<li><strong>Implement step definitions</strong> for any new steps in the appropriate step definition file</li>
<li><strong>Run the tests</strong> to ensure they work as expected</li>
</ol>
<p>Example of adding a new scenario:</p>
<pre><code class="language-gherkin">Scenario: Optimization with custom algorithm parameters
  Given the warehouse data is loaded from the database
  And the algorithm parameters are set to:
    | parameter    | value |
    | iterations   | 20    |
    | population   | 30    |
    | mutation_rate| 0.1   |
  When the complete optimization process is executed
  Then the final solution should be valid and optimized
  And the solution quality should be improved
</code></pre>
<p>Then implement the new step definitions in <code>warehouse_optimization_steps.py</code>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "navigation.sections", "navigation.expand", "navigation.top"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>